<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gá»­i ngÆ°á»i tui yÃªu â¤ï¸</title>
    <style>
        body { background: #fff0f3; margin: 0; font-family: 'Arial', sans-serif; overflow: hidden; display: flex; justify-content: center; align-items: center; height: 100vh; }
        .container { text-align: center; background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); width: 90%; max-width: 350px; min-height: 350px; position: relative; }
        h2 { color: #ff4d6d; font-size: 1.2rem; margin-bottom: 30px; line-height: 1.5; }
        .btn-group { display: flex; justify-content: center; gap: 15px; height: 50px; position: relative; }
        .btn { padding: 10px 20px; font-size: 1rem; border: none; border-radius: 50px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        #yesBtn { background: #ff4d6d; color: white; }
        #noBtn { background: #6c757d; color: white; position: absolute; right: 20px; }
        #memory-game { display: none; }
        .grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-top: 20px; }
        .card { height: 70px; background: #ffb3c1; border-radius: 10px; cursor: pointer; position: relative; transform-style: preserve-3d; transition: transform 0.5s; }
        .card.flipped { transform: rotateY(180deg); }
        .card-front, .card-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 10px; display: flex; align-items: center; justify-content: center; }
        .card-front { color: white; font-weight: bold; font-size: 1.5rem; }
        .card-back { background: white; transform: rotateY(180deg); overflow: hidden; }
        .card-back img { width: 100%; height: 100%; object-fit: cover; }
        #final-msg { display: none; color: #ff4d6d; }
    </style>
</head>
<body>

    <div class="container" id="main-box">
        <div id="question-section">
            <h2 id="questionText">ChÃ o em, em Ä‘ang ráº£nh Ä‘Ãºng khÃ´ng?</h2>
            <div class="btn-group">
                <button class="btn" id="yesBtn" onclick="nextQuestion()">ÄÃºng dá»£ ğŸ˜</button>
                <button class="btn" id="noBtn" onmouseover="moveNo()">Há»•ng ráº£nh ğŸ˜œ</button>
            </div>
        </div>

        <div id="memory-game">
            <h2 style="font-size: 1rem;">TÃ¬m cáº·p áº£nh ká»· niá»‡m nhÃ©! â¤ï¸</h2>
            <div class="grid" id="grid"></div>
        </div>

        <div id="final-msg">
            <h2>YÃªu Em Nháº¥t Quáº£ Äáº¥t! â¤ï¸</h2>
            <button onclick="location.reload()" style="background:#ff4d6d; color:white; border:none; padding:10px 20px; border-radius:50px;">ChÆ¡i láº¡i</button>
        </div>
    </div>

    <script>
        // TUI DÃ™NG LINK áº¢NH MáºªU CHUáº¨N Äá»‚ Ã”NG TEST TRÆ¯á»šC
        const myImages = [
            'https://picsum.photos/id/10/200/200',
            'https://picsum.photos/id/20/200/200',
            'https://picsum.photos/id/30/200/200',
            'https://picsum.photos/id/40/200/200',
            'https://picsum.photos/id/50/200/200',
            'https://picsum.photos/id/60/200/200',
            'https://picsum.photos/id/70/200/200',
            'https://picsum.photos/id/80/200/200'
        ];

        let step = 0;
        const qs = [
            { q: 'ChÃ o em, em Ä‘ang ráº£nh Ä‘Ãºng khÃ´ng?', y: 'ÄÃºng dá»£ ğŸ˜', n: 'Há»•ng ráº£nh ğŸ˜œ' },
            { q: 'Em tháº¥y tui cÃ³ Ä‘Ã¡ng iu khÃ´ng?', y: 'Ráº¥t Ä‘Ã¡ng iu ğŸ˜', n: 'HÆ¡i ghÃ©t ğŸ¤«' },
            { q: 'Tháº¿ em cÃ³ yÃªu tui khÃ´ng nÃ¨?', y: 'YÃªu Æ¡i lÃ  yÃªu â¤ï¸', n: 'KhÃ´ng nha ğŸ™„' }
        ];

        function nextQuestion() {
            step++;
            if (step < qs.length) {
                document.getElementById('questionText').innerText = qs[step].q;
                document.getElementById('yesBtn').innerText = qs[step].y;
                document.getElementById('noBtn').innerText = qs[step].n;
                const nb = document.getElementById('noBtn');
                nb.style.position = 'relative'; nb.style.left = 'auto'; nb.style.top = 'auto';
            } else {
                document.getElementById('question-section').style.display = 'none';
                document.getElementById('memory-game').style.display = 'block';
                initGame();
            }
        }

        function moveNo() {
            const nb = document.getElementById('noBtn');
            nb.style.position = 'absolute';
            nb.style.left = Math.random() * 200 + 'px';
            nb.style.top = Math.random() * 200 + 'px';
        }

        function initGame() {
            let cards = [...myImages, ...myImages].sort(() => Math.random() - 0.5);
            const grid = document.getElementById('grid');
            let flipped = [];
            let matched = 0;

            cards.forEach(url => {
                const c = document.createElement('div');
                c.className = 'card';
                c.innerHTML = <div class="card-front">?</div><div class="card-back"><img src="${url}"></div>;
                c.onclick = () => {
                    if (flipped.length < 2 && !c.classList.contains('flipped')) {
                        c.classList.add('flipped');
                        flipped.push({c, url});
                        if (flipped.length === 2) {
                            setTimeout(() => {
                                if (flipped[0].url === flipped[1].url) {
                                    matched++;
                                    if (matched === ğŸ˜ {
                                        document.getElementById('memory-game').style.display = 'none';
                                        document.getElementById('final-msg').style.display = 'block';
                                    }
                                } else {
                                    flipped[0].c.classList.remove('flipped');
                                    flipped[1].c.classList.remove('flipped');
                                }
                                flipped = [];
                            }, 600);
                        }
                    }
                };
                grid.appendChild(c);
            });
        }
    </script>
</body>
</html>
